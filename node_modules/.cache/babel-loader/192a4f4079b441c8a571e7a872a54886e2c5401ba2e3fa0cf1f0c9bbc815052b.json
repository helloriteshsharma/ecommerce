{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useParams,Link,useNavigate}from\"react-router-dom\";import api from'../Router/api';import\"../comp_css/SingleProduct.css\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const SingleProduct=()=>{const navigate=useNavigate();const{productId}=useParams();const[product,setProduct]=useState({});const userid=localStorage.getItem(\"userid\");useEffect(()=>{axios.get(\"http://127.0.0.1:8080/ecom/products/\".concat(productId)).then(response=>{setProduct(response.data);}).catch(error=>{console.error(\"Error fetching data from the API: \",error);});},[productId]);const addProductToCart=productid=>{api.post(\"/ecom/cart/add-product?userId=\".concat(userid,\"&productId=\").concat(productid)).then(response=>{localStorage.setItem(\"cartid\",response.data.cartId);alert(\"Product added to Cart.....\");}).catch(error=>{alert(\"Product Alredy in cart......\");});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{style:{color:\"green\",textAlign:\"center\",margin:\"20px\"},children:\"Single Product \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"product-details\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"product_image\",children:/*#__PURE__*/_jsx(\"img\",{src:product.imageUrl,alt:product.name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"product_details\",children:[/*#__PURE__*/_jsx(\"h2\",{children:product.name}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Category: \",product.category]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Description: \",product.description]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Price: \\u20B9 \",product.price]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>{addProductToCart(product.productId);},children:\"Add to Cart\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"counter-box\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>{navigate(\"/user/cart\");},children:\"Move To Cart\"})})})]})]});};export default SingleProduct;","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","useNavigate","api","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SingleProduct","navigate","productId","product","setProduct","userid","localStorage","getItem","get","concat","then","response","data","catch","error","console","addProductToCart","productid","post","setItem","cartId","alert","children","style","color","textAlign","margin","className","src","imageUrl","alt","name","category","description","price","onClick"],"sources":["C:/Users/rites/OneDrive/Desktop/Spark2.0-Ecom-master/frontend/src/pages/SingleProduct.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams, Link, useNavigate } from \"react-router-dom\";\nimport api from '../Router/api'\nimport \"../comp_css/SingleProduct.css\";\nimport axios from \"axios\";\n\nconst SingleProduct = () => {\n  const navigate = useNavigate();\n  const { productId } = useParams();\n  const [product, setProduct] = useState({});\n  const userid = localStorage.getItem(\"userid\");\n\n  useEffect(() => {\n    axios\n      .get(`http://127.0.0.1:8080/ecom/products/${productId}`)\n      .then((response) => {\n        setProduct(response.data);\n      })\n      .catch((error) => {\n        console.error(\"Error fetching data from the API: \", error);\n      });\n  }, [productId]);\n\n  const addProductToCart = (productid) => {\n    api\n      .post(\n        `/ecom/cart/add-product?userId=${userid}&productId=${productid}`\n      )\n      .then((response) => {\n        localStorage.setItem(\"cartid\", response.data.cartId);\n        alert(\"Product added to Cart.....\");\n      })\n      .catch((error) => {\n        alert(\"Product Alredy in cart......\");\n      });\n  };\n  return (\n    <>\n    <h1 style={{color:\"green\",textAlign:\"center\",margin:\"20px\"}}>Single Product </h1>\n    <div className=\"product-container\">\n     \n      <div className=\"product-details\">\n        <div className=\"product_image\">\n          <img src={product.imageUrl} alt={product.name} />\n        </div>\n\n        <div className=\"product_details\">\n          <h2>{product.name}</h2>\n          <p>Category: {product.category}</p>\n          <p>Description: {product.description}</p>\n          <p>Price: â‚¹ {product.price}</p>\n\n          <div>\n            <button\n              onClick={() => {\n                addProductToCart(product.productId);\n              }}\n            >\n              Add to Cart\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"counter-box\">\n        <div>\n          <button\n            onClick={() => {\n              navigate(\"/user/cart\");\n            }}\n          >\n            Move To Cart\n          </button>\n        </div>\n      </div>\n    </div>\n    </>\n  );\n};\n\nexport default SingleProduct;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}