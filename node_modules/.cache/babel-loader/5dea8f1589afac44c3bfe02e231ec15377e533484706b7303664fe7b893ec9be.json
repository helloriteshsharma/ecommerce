{"ast":null,"code":"import _objectSpread from\"C:/Users/rites/OneDrive/Desktop/Spark2.0-Ecom-master/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import axios from'axios';import'../comp_css/AdminUserDetails.css';import api from'../Router/api';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AdminUserDetails(){const[users,setUsers]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{api.get('/ecom/customers/get-all-customer').then(response=>{// Sort addresses for each user by timestamp in descending order\nconst sortedUsers=response.data.map(user=>_objectSpread(_objectSpread({},user),{},{address:user.address.sort((a,b)=>new Date(b.timestamp)-new Date(a.timestamp))}));setUsers(sortedUsers);setLoading(false);}).catch(error=>{console.error('Error fetching data:',error);setLoading(false);});},[]);// Function to get the latest address for a user\nconst getLatestAddress=user=>{const addresses=user.address;if(addresses&&addresses.length>0){const latestAddress=addresses[0];return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Latest Address\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Flat No: \",latestAddress.flatNo]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Street: \",latestAddress.street]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"City: \",latestAddress.city]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"State: \",latestAddress.state]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Zip Code: \",latestAddress.zipCode]})]});}else{return/*#__PURE__*/_jsx(\"p\",{children:\"No address available\"});}};return/*#__PURE__*/_jsx(\"div\",{className:\"admin-users\",children:loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}):users.map(user=>/*#__PURE__*/_jsxs(\"div\",{className:\"user-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"User Details\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"User ID: \",user.userId]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Email: \",user.email]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Name: \",user.firstName,\" \",user.lastName]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Phone Number: \",user.phoneNumber]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Register Time: \",user.registerTime]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"User Account Status: \",user.userAccountStatus]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"user-address\",children:getLatestAddress(user)})]},user.userId))});}export default AdminUserDetails;","map":{"version":3,"names":["React","useEffect","useState","axios","api","jsx","_jsx","jsxs","_jsxs","AdminUserDetails","users","setUsers","loading","setLoading","get","then","response","sortedUsers","data","map","user","_objectSpread","address","sort","a","b","Date","timestamp","catch","error","console","getLatestAddress","addresses","length","latestAddress","children","flatNo","street","city","state","zipCode","className","userId","email","firstName","lastName","phoneNumber","registerTime","userAccountStatus"],"sources":["C:/Users/rites/OneDrive/Desktop/Spark2.0-Ecom-master/frontend/src/components/AdminUserDetails.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport '../comp_css/AdminUserDetails.css'; \nimport api from '../Router/api';\n\nfunction AdminUserDetails() {\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    api\n      .get('/ecom/customers/get-all-customer')\n      .then((response) => {\n        // Sort addresses for each user by timestamp in descending order\n        const sortedUsers = response.data.map((user) => ({\n          ...user,\n          address: user.address.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp)),\n        }));\n        setUsers(sortedUsers);\n        setLoading(false);\n      })\n      .catch((error) => {\n        console.error('Error fetching data:', error);\n        setLoading(false);\n      });\n  }, []);\n\n  // Function to get the latest address for a user\n  const getLatestAddress = (user) => {\n    const addresses = user.address;\n    if (addresses && addresses.length > 0) {\n      const latestAddress = addresses[0];\n      return (\n        <div>\n          <h3>Latest Address</h3>\n          <p>Flat No: {latestAddress.flatNo}</p>\n          <p>Street: {latestAddress.street}</p>\n          <p>City: {latestAddress.city}</p>\n          <p>State: {latestAddress.state}</p>\n          <p>Zip Code: {latestAddress.zipCode}</p>\n        </div>\n      );\n    } else {\n      return <p>No address available</p>;\n    }\n  };\n\n  return (\n    <div className=\"admin-users\">\n      {loading ? (\n        <p>Loading...</p>\n      ) : (\n        users.map((user) => (\n          <div className=\"user-card\" key={user.userId}>\n            <div className=\"user-info\">\n              <h3>User Details</h3>\n              <p>User ID: {user.userId}</p>\n              <p>Email: {user.email}</p>\n              <p>Name: {user.firstName} {user.lastName}</p>\n              <p>Phone Number: {user.phoneNumber}</p>\n              <p>Register Time: {user.registerTime}</p>\n              <p>User Account Status: {user.userAccountStatus}</p>\n            </div>\n            <div className=\"user-address\">\n              {getLatestAddress(user)}\n            </div>\n          </div>\n        ))\n      )}\n    </div>\n  );\n}\n\nexport default AdminUserDetails;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}